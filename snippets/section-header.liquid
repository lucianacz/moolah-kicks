{% if heading != blank or subheading != blank or link_text != blank %}

  {%- liquid
    assign button_classes = 'btn--small btn--medium-ns'

    if classes contains 'section-header--large'
      assign button_classes = 'btn--medium'
    endif
  -%}
  {% assign number = '1-base' %}
  {% if title_smaller %}
    {% assign number = '2-large' %}
  {% endif %}
  <div class="section-header {{ classes }}
  {% if horizontal %} text-horizontal {% endif %}"
  {% if color != blank %} style="color: {{ section.settings.color }}" {% endif %}>
    {%- unless heading == blank -%}
      <h2 class="section-header__heading ff-heading fs-heading-{{ number }}">
        {{ heading | newline_to_br }}
      </h2>
    {%- endunless -%}

    {%- unless subheading == blank -%}
      <div class="section-header__subheading rte ff-body fs-body-base fs-body-large-ns">
        {{ subheading }}
      </div>
    {%- endunless -%}

    {%- if url != blank and link_text != blank -%}
      <a href="{{ url }}" class="section-header__button {% unless horizontal %} btn btn--primary {{ button_classes }}{% endunless %}">
        {{ link_text }}
      </a>
    {%- endif -%}
  </div>
{% endif %}